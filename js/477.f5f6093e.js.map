{"version":3,"file":"js/477.f5f6093e.js","mappings":"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","sources":["webpack://travel-web-app/./src/components/reuse-component/FormGroup.vue","webpack://travel-web-app/./src/components/reuse-component/FormGroup.vue?6034","webpack://travel-web-app/./src/views/admin/user/UserDetail.vue","webpack://travel-web-app/./src/js/base/baseDetail.js","webpack://travel-web-app/./src/views/admin/user/UserDetail.vue?8408"],"sourcesContent":["<template>\r\n  <div class=\"form-group\" :title=\"title\">\r\n    <div class=\"form-group-title\">{{title}}</div>\r\n    <div class=\"form-group-input\">\r\n      <slot></slot>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'FormGroup',\r\n  props: {\r\n    title: {\r\n      type: String\r\n    },\r\n\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>","import { render } from \"./FormGroup.vue?vue&type=template&id=60d4a838\"\nimport script from \"./FormGroup.vue?vue&type=script&lang=js\"\nexport * from \"./FormGroup.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"E:\\\\Workspace\\\\HUST\\\\resort-booking-app\\\\travel-web-app\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <vue-final-modal\r\n    v-slot=\"{ close }\"\r\n    v-bind=\"$attrs\"\r\n    classes=\"modal-container\"\r\n    content-class=\"modal-content user-detail\"\r\n    :min-width=\"200\"\r\n    :height=\"800\"\r\n    v-model=\"show\"\r\n    :click-to-close=\"false\"\r\n    name=\"UserDetail\"\r\n    @before-open=\"beforeOpen\"\r\n  >\r\n    <button ref=\"close\" class=\"modal__close\" @click=\"close\">\r\n      <v-icon icon=\"mdi-close\"></v-icon>\r\n    </button>\r\n    <span class=\"modal__title\">Phân quyền</span>\r\n    <div class=\"modal__content\">\r\n      <v-col class=\"form-col\">\r\n        <form-group title=\"Thông tin chung\">\r\n          <div class=\"flex-column d-flex flex1\">\r\n            <b-input :disabled=\"true\" class=\"mt-2\" v-model=\"model.name\" label=\"Họ tên\"></b-input>\r\n          </div>\r\n          <div class=\"flex-column d-flex flex1\">\r\n            <b-input :disabled=\"true\" class=\"mt-2\" v-model=\"model.email\" label=\"Email\"></b-input>\r\n          </div>\r\n          <div class=\"flex-column d-flex flex1\">\r\n            <b-input :disabled=\"true\" class=\"mt-2\" v-model=\"model.tel\" label=\"Số điện thoại\"></b-input>\r\n          </div>\r\n        </form-group>\r\n        <form-group title=\"Phân quyền\">\r\n          <b-autocomplete\r\n            class=\"mt-2\"\r\n            :returnObject=\"true\"\r\n            :items=\"roles\"\r\n            itemTitle=\"role_title\"\r\n            itemValue=\"role_id\"\r\n            v-model=\"role\"\r\n            label=\"Chức danh\"\r\n          >\r\n          </b-autocomplete>\r\n        </form-group>\r\n      </v-col>\r\n    </div>\r\n    <div class=\"modal__footer pt4 pb4\">\r\n      <v-btn @click=\"close\" class=\"modal_footer-btn\">Hủy</v-btn>\r\n      <v-btn @click=\"save\" color=\"primary\" class=\"modal_footer-btn ml8\"\r\n        >Lưu</v-btn\r\n      >\r\n    </div>\r\n  </vue-final-modal>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getCurrentInstance,\r\n  onMounted,\r\n  ref,\r\n  computed\r\n} from \"@vue/runtime-core\";\r\nimport FormGroup from \"@/components/reuse-component/FormGroup.vue\";\r\nimport userApi from \"@/js/api/user/UserApi\";\r\nimport baseDetail from '@/js/base/baseDetail';\r\n\r\nexport default {\r\n  name: \"UserDetail\",\r\n  extends: baseDetail,\r\n  components: {\r\n    FormGroup,\r\n  },\r\n  setup() {\r\n    const { proxy } = getCurrentInstance();\r\n\r\n    const api = userApi;\r\n    const keyEntity = 'user_id';\r\n\r\n    const roles = ref([])\r\n\r\n    const role = computed({\r\n      get() {\r\n        return {\r\n          role_title: proxy.model.role_title || null,\r\n          role_id: proxy.model.role_id || null,\r\n        };\r\n      },\r\n      set(cbxValue) {\r\n        proxy.model.role_title = cbxValue.role_title;\r\n        proxy.model.role_id = cbxValue.role_id;\r\n      },\r\n    });\r\n\r\n    onMounted(() => {\r\n      window._detail = proxy;\r\n      console.log(\"UserDetail\");\r\n    });\r\n\r\n    const afterOpen = async () => {\r\n      api.findRoles().then(res => {\r\n        roles.value = res.data;\r\n      });\r\n    }\r\n\r\n    return {\r\n      api,\r\n      keyEntity,\r\n      roles,\r\n      afterOpen,\r\n      role\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.user-detail {\r\n  height: 100vh;\r\n  max-height: 100vh !important;\r\n  margin: 0 !important;\r\n  position: fixed !important;\r\n  right: 0px;\r\n  width: 600px !important;\r\n\r\n  .form-col {\r\n    padding: 0px;\r\n  }\r\n\r\n  .form-group {\r\n    margin-bottom: 8px;\r\n    padding: 8px;\r\n\r\n    .form-group-title {\r\n      margin-bottom: 8px;\r\n    }\r\n\r\n    .form-group-input {\r\n      display: flex;\r\n      flex-direction: column;\r\n    }\r\n  }\r\n\r\n  .form-input + .form-input {\r\n    margin-left: 8px;\r\n  }\r\n}\r\n</style>","\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      // Ẩn hiện form\r\n      show: {\r\n        default: true\r\n      },\r\n      // Dữ liệu chi tiết\r\n      model: {\r\n        default: () => {}\r\n      },\r\n      // Khóa chính entity\r\n      keyEntity: '',\r\n      mode: {\r\n        default: 0\r\n      },\r\n      params: {\r\n        default: () => {}\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    /**\r\n     * Trước khi mở form\r\n     */\r\n    beforeOpen(event) {\r\n      this.model = { ...event.ref.params.value.data };\r\n      this.mode = event.ref.params.value.mode;\r\n      this.params = event.ref.params.value;\r\n\r\n      if (this.mode == this.$enums.ModelState.Edit) {\r\n        this.api.getById(this.model[this.keyEntity]).then((res) => {\r\n          this.model = res.data;\r\n        });\r\n      }\r\n\r\n      this.afterOpen();\r\n    },\r\n\r\n    /**\r\n     * Sau khi mở form\r\n     */\r\n    afterOpen() {\r\n\r\n    },\r\n\r\n    /**\r\n     * Thực hiện lưu\r\n     */\r\n    async save() {\r\n      let res = {};\r\n      \r\n      let newId = this.$uuid.v1();\r\n      \r\n      switch (this.mode) {\r\n        case this.$enums.ModelState.Add:\r\n          if (!this.model[this.keyEntity]) {\r\n            this.model[this.keyEntity] = newId;\r\n          }\r\n          res = await this.api.post({\r\n            Model: this.model,\r\n          });\r\n          break;\r\n        case this.$enums.ModelState.Edit:\r\n          res = await this.api.put({\r\n            Model: this.model,\r\n            Condition: {\r\n            [this.keyEntity]: this.model[this.keyEntity],\r\n            },\r\n          });\r\n          break;\r\n      }\r\n      if (res.data) {\r\n        if (typeof this.params.afterSave == \"function\") {\r\n          this.params.afterSave();\r\n        }\r\n        this.$toast.success(\"Lưu dữ liệu thành công\");\r\n        this.show = false;\r\n        this.afterSave(true);\r\n        this.close();\r\n      }\r\n    },\r\n\r\n    close() {\r\n      if (this.$refs.close) {\r\n        this.$refs.close.click();\r\n      }\r\n    },\r\n\r\n    afterSave() {\r\n\r\n    }\r\n\r\n  },\r\n}","import { render } from \"./UserDetail.vue?vue&type=template&id=dc3ef2e8\"\nimport script from \"./UserDetail.vue?vue&type=script&lang=js\"\nexport * from \"./UserDetail.vue?vue&type=script&lang=js\"\n\nimport \"./UserDetail.vue?vue&type=style&index=0&id=dc3ef2e8&lang=scss\"\n\nimport exportComponent from \"E:\\\\Workspace\\\\HUST\\\\resort-booking-app\\\\travel-web-app\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","title","$props","_createElementVNode","_hoisted_2","_hoisted_3","_renderSlot","_ctx","name","props","type","String","__exports__","render","_createBlock","_component_vue_final_modal","_mergeProps","classes","height","onBeforeOpen","close","ref","onClick","_createVNode","_component_v_icon","icon","_component_v_col","_component_form_group","_hoisted_4","_component_b_input","disabled","label","_hoisted_5","email","_hoisted_6","tel","_component_b_autocomplete","returnObject","items","$setup","itemTitle","itemValue","_hoisted_7","_component_v_btn","color","data","show","default","model","keyEntity","mode","params","methods","beforeOpen","event","this","value","$enums","ModelState","Edit","api","getById","then","res","afterOpen","async","newId","$uuid","v1","Add","post","Model","put","Condition","afterSave","$toast","success","$refs","click","extends","baseDetail","components","FormGroup","setup","proxy","getCurrentInstance","userApi","roles","role","computed","get","role_title","role_id","set","cbxValue","onMounted","window","_detail","console","log","findRoles"],"sourceRoot":""}